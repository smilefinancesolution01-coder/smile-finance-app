<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smile Finance AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background-color: #131314; color: #e3e3e3; font-family: 'Inter', sans-serif; margin: 0; padding: 0; height: 100vh; display: flex; flex-direction: column; }
        .gemini-gradient { background: linear-gradient(90deg, #4285f4, #9b72cb, #d96570); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .chat-area { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 100px; }
        .input-container { position: fixed; bottom: 20px; left: 0; right: 0; padding: 0 15px; background: #131314; }
        .input-bar { background: #1e1f20; border-radius: 28px; padding: 10px 20px; display: flex; items-center: center; border: 1px solid #3c4043; max-width: 600px; margin: 0 auto; }
        input { background: transparent; border: none; outline: none; color: white; flex: 1; font-size: 16px; padding: 8px 0; }
        .send-btn { color: #8ab4f8; font-size: 20px; margin-left: 15px; cursor: pointer; }
    </style>
</head>
<body>

    <header class="p-4 flex justify-between items-center border-b border-gray-800">
        <div class="text-lg font-bold">Gemini <span class="text-xs font-normal text-gray-500">2.0</span></div>
        <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-xs">S</div>
    </header>

    <main id="chatBox" class="chat-area flex flex-col items-center">
        <div id="greeting" class="mt-20 text-center">
            <h1 class="text-3xl font-medium mb-2">Hello, <span class="gemini-gradient">Smile Finance</span></h1>
            <p class="text-gray-400 text-sm">How can I help you earn today?</p>
        </div>
        </main>

    <div class="input-container">
        <div class="input-bar shadow-xl">
            <i class="fa fa-plus text-gray-400 mr-3"></i>
            <input id="msgInput" type="text" placeholder="Type a message...">
            <button onclick="send()" class="send-btn">
                <i class="fa-solid fa-paper-plane"></i>
            </button>
        </div>
        <p class="text-[9px] text-center text-gray-500 mt-2">Smile AI: Your 1 Cr Financial Mission</p>
    </div>

    <script>
        async function send() {
            const input = document.getElementById('msgInput');
            const box = document.getElementById('chatBox');
            const greet = document.getElementById('greeting');
            const val = input.value.trim();
            
            if(!val) return;
            if(greet) greet.remove();

            // User Message
            box.innerHTML += `<div class="self-end bg-[#2b2c2e] p-3 rounded-2xl mb-4 max-w-[80%]">${val}</div>`;
            input.value = "";
            box.scrollTop = box.scrollHeight;

            // AI Reply Logic
            try {
                const res = await fetch('https://smile-finance-ai-live.onrender.com/chat', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({message: val})
                });
                const data = await res.json();
                box.innerHTML += `<div class="self-start text-blue-100 p-3 rounded-2xl mb-4 max-w-[90%]">âœ¨ ${data.reply}</div>`;
            } catch(e) {
                box.innerHTML += `<div class="text-red-400 text-xs">Server thoda slow hai, check Render...</div>`;
            }
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
